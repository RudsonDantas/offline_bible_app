var request = require('request'),
    config = require('../config');

var requests = {
  validateToken: function(token, cb) {
    var options = {
      url: config.auth.host + config.urls.auth.validate,
      qs: { 'token': token },
      headers: { 'Accept': 'application/json' }
    };

    request.get(options, function(err, response, body) {
      if (err) { return cb(err, null, null) };

      return cb(err, response, JSON.parse(body));
    });
  }
};

exports = module.exports = requests;
