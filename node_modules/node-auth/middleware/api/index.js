var express = require('express');

var router = express.Router();

var middleware = [
  'shared/unprotected',
  'api/token',
  'shared/validateToken',
  'api/authenticate'
];

router.all('*', middleware.map(function (m) {
  return require('../../middleware/' + m)
}));

exports = module.exports = router;
